# CSRF

原理是用户从A网站跳转访问B网站时，浏览器会认为这是用户主动的行为，进而携带B网站的cookie去访问
以验证身份。

然后黑客网站构造出类似于`http://localhost:8088/withdraw?count=100&to=hacker`这样的连接就行了。

所以CSRF发生有几个条件：

- 用户登录了B网站
- 用户在不知情的情况下访问B网站的某些具有修改资源能力的路由
- 浏览器携带了登录认证信息
- B网站服务器没有做任何防护

看起来很复杂，其实经常发生。

但是你可能会说浏览器不携带cookie不就行了吗？

是可以，但是如果这样做的话用户体验就很差，很多正常的跳转回丧失
登录状态，所以这种事一般是服务端做验证。

服务端判断用户的refer，如果不是本网站，就可能存在漏洞
是第三方在用户不知情的情况下搞得，所以服务端应该拒绝访问

## 参考链接

- https://www.jianshu.com/p/855395f9603b
